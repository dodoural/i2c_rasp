<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>A71CH Host Sw: A71CH example deployment scenario</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">A71CH Host Sw
   &#160;<span id="projectnumber">v01.05.00</span>
   </div>
   <div id="projectbrief">NXP Semiconductors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('walkthrough.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">A71CH example deployment scenario </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_hads"></a>
Introduction (Typical deployment scenario)</h1>
<p>This section documents the usage of the A71CH from the perspective of the system integrator. It links different steps - that may apply to a product deployment - to the example source code fragments.</p>
<p>One can distinguish the following phases:</p>
<ul>
<li><a class="el" href="walkthrough.html#binding_hc_a71ch">Binding of Host Controller with A71CH</a></li>
<li><a class="el" href="walkthrough.html#provisioning_in_sec_env">Provisioning in Secured Environment</a></li>
<li><a class="el" href="walkthrough.html#prepare_shipment">Prepare for shipment to End-Customer</a></li>
<li><a class="el" href="walkthrough.html#typ_operations">Typical operational usage</a></li>
</ul>
<h1><a class="anchor" id="binding_hc_a71ch"></a>
Binding of Host Controller with A71CH</h1>
<dl class="section note"><dt>Note</dt><dd>This step is optional and only needed in case SCP03 authenticated channel encryption is required.</dd></dl>
<p>The communication between Host Controller and A71CH can optionally be authenticated and encrypted. The SCP03 (Global Platform Secure Channel 03) protocol is used for this. Prior to setting up an SCP03 link a set of three static SCP03 keys must be written once into the A71CH module. For an example in source code refer to <a class="el" href="ex__boot_8c.html#a9546444f9023befe3278ef64a80edb88">axExCreateAndSetInitialHostScpKeys</a>.</p>
<p>The usage of SCP03 channel encryption becomes mandatory from the moment an SCP03 session has been established succesfully. <a class="el" href="ex__boot_8c.html#a5e0b760ed1cc1b7bf2f1a573510d980a">axExAuthenticate</a> illustrates the initial setting up of an SCP03 session.</p>
<p>Attention points:</p><ul>
<li>Static SCP03 keys must be stored securely on Host Platform.</li>
<li>Using SCP03 to protect the communication between Host and A71CH is optional. To permanently disable the SCP03 channel capability one can insert 3 random values as static SCP03 keys into the A71CH.</li>
</ul>
<h1><a class="anchor" id="provisioning_in_sec_env"></a>
Provisioning in Secured Environment</h1>
<p>One of the key capabilities of the A71CH is to securily store credentials. The actual provisioning of these credentials can be done during a secured production phase of the end-product into which the A71CH is integrated or on individual IC's.</p>
<p><a class="el" href="ex__walkthrough_8c.html#a2a2726cc0e9030a571ca332f3f3556f6">exWtProvision</a> illustrates a typical provisioning scenario:</p><ul>
<li>The A71CH creates two keypairs</li>
<li>Two public keys are inserted</li>
<li>The symmetric key store is filled up (with secrets)</li>
<li>End-product specific configuration information is written into general purpose storage</li>
</ul>
<p>The A71CH also has a set of three Configuration Keys, that can be set in the provisioning phase. The application of these keys is as follows:</p><ul>
<li>Transport Lock key (key with index <a class="el" href="a71ch__api_8h.html#af657713d01e18d2da21304aa8ac7e787" title="Index of Module Transport Lock configuration key. ">A71CH_CFG_KEY_IDX_MODULE_LOCK</a>)</li>
<li>Private Key wrapping (key with index <a class="el" href="a71ch__api_8h.html#a944e4723836f8de847ade4291ba357ab" title="Index to configuration key storage (private key wrapping key) ">A71CH_CFG_KEY_IDX_PRIVATE_KEYS</a>)</li>
<li>Public Key wrapping (key with index <a class="el" href="a71ch__api_8h.html#a052f65d50d6e112c01f32cd5ebedc6ba" title="Index to configuration key storage (public key wrapping key) ">A71CH_CFG_KEY_IDX_PUBLIC_KEYS</a>)</li>
</ul>
<p>The Transport Lock key be used in a scenario where the provisioning of credentials occurs in two phases. After the first provisioning phase further provisioning (or reverting the already provisioned data) is blocked by locking the device. The device can now be stored for later use or sent to another trusted party that will finalize the provisioning. The ability to do this second phase provisioning depends on the knowledge of the Transport Lock key.</p>
<h1><a class="anchor" id="prepare_shipment"></a>
Prepare for shipment to End-Customer</h1>
<p>Before shipping the end-product to a customer the capability to insert credentials in-the-clear must be disabled. Furthermore specific credentials can be locked, preventing sub-sequent errasure or update. For an example is source code refer to <a class="el" href="ex__walkthrough_8c.html#a92bc8f47c00605f0b980e2468f03e24d">exWtPrepareShipment</a>.</p>
<h1><a class="anchor" id="typ_operations"></a>
Typical operational usage</h1>
<p><a class="el" href="ex__walkthrough_8c.html#a278cf0e2bd407ad17aef89db3b732807">exWtUseCrypto</a> illustrates some typical crypto operations supported by the A71CH. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 7 2018 19:24:07 for A71CH Host Sw by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
