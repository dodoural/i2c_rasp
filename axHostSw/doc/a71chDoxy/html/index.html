<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>A71CH Host Sw: A71CH Host SW documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">A71CH Host Sw
   &#160;<span id="projectnumber">v01.05.00</span>
   </div>
   <div id="projectbrief">NXP Semiconductors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">A71CH Host SW documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>The A71CH Host SW API encapsulates the APDU calls supported by the A71CH security module. The standard A71CH security module supports the following functionality:</p><ul>
<li>Secure storage, generation, insertion or deletion of ECC key pairs (ECC NIST P-256).</li>
<li>Secure storage, insertion or deletion of ECC public keys.</li>
<li>Signature generation and verification (ECDSA)</li>
<li>Shared secret calculation for Key Agreement (ECDH or ECDH-E)</li>
<li>Secure storage and use of monotonic counters (32 bits each)</li>
<li>Secure storage, insertion or deletion of symmetric keys (128 bits); symmetric keys can be concatenated to form longer keys</li>
<li>Retrieval of unique chip ID.</li>
<li>HKDF using the symmetric secrets as key, Extract &amp; Expand or Expand only.</li>
<li>HMAC SHA256 calculation</li>
<li>Freezing of credentials (= OTP behavior)</li>
<li>An optional secure channel with the host MCU (conform Global Platform SCP03).</li>
</ul>
<p>The Debug Mode variant of the A71CH security module, which can be ordered on evaluation kits, supports the following additional functionality</p><ul>
<li>A set of debug commands to facilitate integration of the A71CH in a host application.</li>
<li>Possibility to permanently disable these debug commands</li>
</ul>
<h1><a class="anchor" id="hostLib"></a>
A71CH API</h1>
<p>The A71CH API is made up of four parts:</p><ul>
<li>A71CH specific functionality (<a class="el" href="a71ch__api_8h.html">a71ch_api.h</a>)</li>
<li>Data link communication functionality (<a class="el" href="ax__api_8h.html">ax_api.h</a>); also acting as entry point to the full API of the Production Mode variant of the A71CH (it also includes <a class="el" href="a71ch__api_8h.html">a71ch_api.h</a> and <a class="el" href="ax__scp_8h.html">ax_scp.h</a>)</li>
<li>Secure channel functionality (<a class="el" href="ax__scp_8h.html">ax_scp.h</a>)</li>
<li>A71CH Debug Mode variant functionality (<a class="el" href="a71__debug_8h.html">a71_debug.h</a>)</li>
</ul>
<p>The implementation of the API dealing with A71CH specific functionality (<a class="el" href="a71ch__api_8h.html">a71ch_api.h</a>):</p><ul>
<li><a class="el" href="a71ch__crypto__derive_8c.html">a71ch_crypto_derive.c</a> deals with deriving secrets, hmacs etc. from stored secrets</li>
<li><a class="el" href="a71ch__crypto__ecc_8c.html">a71ch_crypto_ecc.c</a> deals with ECC crypto building blocks as ECDSA signing and verification and ECDH</li>
<li><a class="el" href="a71ch__module_8c.html">a71ch_module.c</a> deals with functions not related to stored crypto credentials</li>
<li><a class="el" href="a71ch__sst_8c.html">a71ch_sst.c</a> deals with storing, retrieving, erasing and locking credentials</li>
</ul>
<p>The implementation of the API dealing with data link (<a class="el" href="ax__api_8h.html">ax_api.h</a>):</p><ul>
<li><a class="el" href="a71ch__com_8c.html">a71ch_com.c</a> deals with setting up the communication layer between host and secure element</li>
</ul>
<p>The implementation of the API dealing with the (optional) secure channel (<a class="el" href="ax__api_8h.html">ax_api.h</a>):</p><ul>
<li><a class="el" href="ax__scp_8c.html">ax_scp.c</a> and <a class="el" href="scp_8c.html">scp.c</a> deal with setting up an encrypted and authenticated channel between host and secure element</li>
</ul>
<p>The implementation of the API dealing with A71CH Debug Mode specific commands (<a class="el" href="a71__debug_8h.html">a71_debug.h</a>):</p><ul>
<li><a class="el" href="a71__debug_8c.html">a71_debug.c</a></li>
</ul>
<p>Handover of SCP03 keys from bootloader to OS</p><ul>
<li><a class="el" href="ex__boot_8c.html">ex_boot.c</a> (Simulated/Mimicked system boot within one function call)</li>
</ul>
<h1><a class="anchor" id="sw_maina71ch_ex"></a>
Hostlib API based examples</h1>
<p>See <a class="el" href="maina71ch_ex.html">Hostlib API based examples</a></p>
<h1><a class="anchor" id="sw_structure"></a>
SW structure</h1>
<h2><a class="anchor" id="sw_structure_o"></a>
OpenSSL</h2>
<p>The following picture illustrates the Host Library in the context of the Host SW with OpenSSL </p><div class="image">
<object type="image/svg+xml" data="A71CH_HostLib_SW_Layers_OpenSSL.svg">A71CH_HostLib_SW_Layers_OpenSSL.svg</object>
<div class="caption">
Host Library SW Layers</div></div>
 <h2><a class="anchor" id="sw_structure_m"></a>
mbed TLS</h2>
<p>The following picture illustrates the Host Library in the context of the Host SW with mbed TLS </p><div class="image">
<object type="image/svg+xml" data="A71CH_HostLib_SW_Layers_mbedTLS.svg">A71CH_HostLib_SW_Layers_mbedTLS.svg</object>
<div class="caption">
Host Library SW Layers</div></div>
 <h2><a class="anchor" id="sw_structure_c"></a>
Common</h2>
<ul>
<li><a class="el" href="lib_components.html">Building blocks used by Host Library</a></li>
<li><a class="el" href="test_utility.html">Utility functions used in example applications</a></li>
</ul>
<h1><a class="anchor" id="configure_tool"></a>
Configure Tool</h1>
<p>The Configure Tool is an application supporting the injection of credentials into the A71CH. It can also report on the value and status of the stored credentials and on the status of the device. Refer to <a class="el" href="page_a71ch_configure_tool.html">A71CH Configure Tool</a> for the user and reference manual of the configure tool. The source code of the configure tool is part of the Host SW package.</p>
<h1><a class="anchor" id="open_ssl_engine"></a>
OpenSSL Engine</h1>
<p>The (A71CH) OpenSSL Engine implements the OpenSSL Engine interface for Random number generation, ECDH calculation, ECDSA Verify and Sign operations. A dedicated user manual for the A71CH OpenSSL Engine is available and the reader is referred to that manual for more information. The Host SW package comes with examples illustrating the usage of the A71CH OpenSSL Engine.</p>
<ul>
<li><a class="el" href="page_a71ch_opensslengine_other_examples.html">OpenSSL Engine: Miscelaneous example</a></li>
<li><a class="el" href="page_a71ch_opensslengine_tls.html">OpenSSL Engine: TLS example</a></li>
</ul>
<h1><a class="anchor" id="mbedtls_alt"></a>
mbed TLS Integration</h1>
<p>it is possible to enable existing applications and usescases running on Kinetis Platform to use A71CHâ€™s for crypto functionality. For integration and usage of mbed TLS on Kinetis Platform with A71CH See <a class="el" href="page_mbed_t_l_s.html#mbedTLS_alt">ALT Implementation</a></p>
<h1><a class="anchor" id="generic_api"></a>
Host Library Secure Element Generic API (HLSE)</h1>
<p>The HLSE generic API abstracts the specific implementation of the Secure Element that holds cryptographic information and performs cryptographic functions. It isolates an application from the details of the underlying cryptographic device (e.g. the A71CH) such that it does not have to change to interface to a different type of cryptographic device. Refer to <a class="el" href="page_hlse_generic_api.html">HLSE (Generic) API</a> for more information.</p>
<h1><a class="anchor" id="rjct_server"></a>
RJCT Server</h1>
<p>The RJCT server is a standalone process that can establish a communication session with a Secure Element on behalf of a client process. Only one client process can have a communication session via the RJCT server with the Secure Element. The Host SW package includes the source code of the RJCT server and the communication module to build clients. Refer to <a class="el" href="page_rjct_server.html">RJCT Server</a> for more information.</p>
<h1><a class="anchor" id="sec_page_VCOM"></a>
VCOM</h1>
<p>For Kinetis based embedded platform, the host library either runs directly on the Kinetis paltform or it runs from the PC. In such a configuration when the host library runs from the PC, a dedicated firmware is expected to be running from the embedded platform. This firmware emuates the Kinetis platform as a USB CDC class device. See <a class="el" href="page__v_c_o_m.html">VCOM</a> for more.</p>
<h1><a class="anchor" id="building_sw"></a>
Building SW</h1>
<ul>
<li><a class="el" href="page_build.html">Build Environments</a> (an elaborate description building software)</li>
<li><a class="el" href="page_imx6ul_setup_openssl_engine.html">i.MX6UL: Setting up OpenSSL Engine</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 7 2018 19:24:08 for A71CH Host Sw by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
